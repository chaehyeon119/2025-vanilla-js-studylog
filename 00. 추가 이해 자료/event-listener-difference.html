<!DOCTYPE html>
<html lang="ko-KR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ this ì°¨ì´</title>
  <style>
    button {
      padding: 15px 20px;
      margin: 10px;
      font-size: 16px;
      border: none;
      border-radius: 8px;
      cursor: pointer;
    }
    .normal { background: #ff4757; color: white; }
    .arrow { background: #2ed573; color: white; }
    .result { 
      background: #f1f2f6; 
      padding: 10px; 
      margin: 10px 0; 
      border-radius: 5px; 
      border-left: 4px solid #3742fa;
    }
  </style>
</head>
<body>
  <h1>ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆì—ì„œ this ì°¨ì´ì </h1>
  
  <div class="result">
    <h3>ğŸ”´ ë¹¨ê°„ ë²„íŠ¼ (ì¼ë°˜ í•¨ìˆ˜)</h3>
    <p>ë²„íŠ¼ì´ ì§ì ‘ sayHelloë¥¼ ì‹¤í–‰í•˜ë ¤ê³  í•´ì„œ this = ë²„íŠ¼ì´ ë©ë‹ˆë‹¤</p>
  </div>
  
  <div class="result">
    <h3>ğŸŸ¢ ì´ˆë¡ ë²„íŠ¼ (í™”ì‚´í‘œ í•¨ìˆ˜)</h3>
    <p>í™”ì‚´í‘œ í•¨ìˆ˜ê°€ Person ê°ì²´ì˜ sayHelloë¥¼ í˜¸ì¶œí•´ì„œ this = Personì´ ë©ë‹ˆë‹¤</p>
  </div>
  
  <button class="normal" id="normalBtn">ì¼ë°˜ í•¨ìˆ˜ í…ŒìŠ¤íŠ¸ (ë¬¸ì œ)</button>
  <button class="arrow" id="arrowBtn">í™”ì‚´í‘œ í•¨ìˆ˜ í…ŒìŠ¤íŠ¸ (í•´ê²°)</button>
  
  <div id="output"></div>
  
  <script>
    const output = document.getElementById('output');
    
    class Person {
      constructor(name) {
        this.name = name;
        this.greeting = "ì•ˆë…•í•˜ì„¸ìš”!";
      }
      
      sayHello() {
        // thisê°€ ëˆ„êµ¬ì¸ì§€ í™•ì¸í•´ë³´ê¸°
        output.innerHTML += `<div class="result">`;
        output.innerHTML += `<h4>sayHello í•¨ìˆ˜ ì‹¤í–‰ë¨</h4>`;
        output.innerHTML += `<p><strong>thisëŠ”:</strong> ${this.constructor?.name || this.tagName || 'ì•Œìˆ˜ì—†ìŒ'}</p>`;
        
        if (this.name) {
          output.innerHTML += `<p style="color: green;"><strong>âœ… ì„±ê³µ:</strong> ${this.name}ì´ "${this.greeting}"ë¼ê³  ë§í–ˆìŠµë‹ˆë‹¤</p>`;
        } else {
          output.innerHTML += `<p style="color: red;"><strong>âŒ ì‹¤íŒ¨:</strong> this.nameì´ ì—†ì–´ì„œ ì¸ì‚¬í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤</p>`;
          output.innerHTML += `<p>this.name = ${this.name}</p>`;
          output.innerHTML += `<p>this.greeting = ${this.greeting}</p>`;
        }
        output.innerHTML += `</div>`;
      }
    }
    
    const person = new Person("ê¹€ì² ìˆ˜");
    
    // ğŸ”´ ì¼ë°˜ í•¨ìˆ˜: ë¬¸ì œ ë°œìƒ
    document.getElementById('normalBtn').addEventListener('click', person.sayHello);
    //                                                                    â†‘
    //                                                     ë²„íŠ¼ì´ ì´ í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•¨
    //                                                     â†’ this = ë²„íŠ¼
    
    // ğŸŸ¢ í™”ì‚´í‘œ í•¨ìˆ˜: í•´ê²°
    document.getElementById('arrowBtn').addEventListener('click', () => {
      person.sayHello();  // personì´ í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•¨ â†’ this = person
    });
    
    // ì„¤ëª… ì¶”ê°€
    output.innerHTML = `
      <div class="result">
        <h3>ğŸ§ª ì‹¤í—˜í•´ë³´ì„¸ìš”!</h3>
        <p>ë‘ ë²„íŠ¼ì„ í´ë¦­í•´ì„œ ì°¨ì´ì ì„ í™•ì¸í•´ë³´ì„¸ìš”</p>
        <ul>
          <li><strong>ë¹¨ê°„ ë²„íŠ¼:</strong> ë²„íŠ¼ ìì²´ê°€ sayHelloë¥¼ ì‹¤í–‰ (this = button)</li>
          <li><strong>ì´ˆë¡ ë²„íŠ¼:</strong> Person ê°ì²´ê°€ sayHelloë¥¼ ì‹¤í–‰ (this = person)</li>
        </ul>
      </div>
    `;
  </script>
</body>
</html>
