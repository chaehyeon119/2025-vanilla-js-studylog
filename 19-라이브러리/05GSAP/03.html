<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <title>GSAP ScrollTrigger â€” ì£¼ì„ ë²„ì „</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    *{box-sizing:border-box}
    body{font-family:system-ui;margin:0}
    /* ì²« ì„¹ì…˜(íˆì–´ë¡œ). ìŠ¤í¬ë¡¤ ì‹œì‘ ì§€ì  */
    .hero{
      height:60vh;                    /* í™”ë©´ì˜ 60% ë†’ì´ */
      display:grid;place-items:center;/* ê°€ìš´ë° ì •ë ¬ */
      background:#eef2ff;
      position:relative;              /* ìì‹ íŒ¨ëŸ´ë™ìŠ¤ ëŒ€ë¹„ */
      overflow:hidden;                 /* ë‚´ë¶€ ìš”ì†Œê°€ ì‚ì ¸ë‚˜ì˜¤ì§€ ì•Šê²Œ */
    }
    .hero h1{margin:0;font-size:42px}

    /* ê°„ê²©ìš© ë¹ˆ ì˜ì—­(ìŠ¤í¬ë¡¤ ì—¬ìœ ) */
    .spacer{height:40vh}

    /* ì¹´ë“œ ê·¸ë¦¬ë“œ ì„¹ì…˜ */
    .cards{
      max-width:900px;margin:0 auto;
      display:grid;gap:16px;padding:24px;
      grid-template-columns:repeat(auto-fit,minmax(220px,1fr));
    }
    /* ì¹´ë“œ ì´ˆê¸° ìƒíƒœ: ë³´ì´ì§€ ì•ŠìŒ(íˆ¬ëª…+ì•„ë˜ë¡œ ë‚´ë ¤ê°€ ìˆìŒ) */
    .card{
      background:#f8fafc;border:1px solid #e5e7eb;border-radius:14px;
      padding:24px;
      opacity:0;                      /* ë“±ì¥ ì „ ìˆ¨ê¹€ */
      transform:translateY(24px);     /* ì•„ë˜ì—ì„œ ìœ„ë¡œ ì˜¬ë¼ì˜¤ëŠ” ëŠë‚Œ */
    }

    /* í•€(ê³ ì •) ë°ëª¨ìš© íŒ¨ë„ */
    .panel{
      height:80vh; display:grid; place-items:center;
      background:#ecfeff; font-size:28px
    }
  </style>
</head>
<body>
  <section class="hero">
    <h1 class="title">ScrollTrigger ë°ëª¨</h1>
  </section>

  <div class="spacer"></div>

  <section class="cards">
    <div class="card">ì¹´ë“œ 1</div>
    <div class="card">ì¹´ë“œ 2</div>
    <div class="card">ì¹´ë“œ 3</div>
    <div class="card">ì¹´ë“œ 4</div>
  </section>

  <section class="panel">í•€(ê³ ì •) ì„¹ì…˜</section>

  <div class="spacer"></div>

  <!-- GSAP Core + ScrollTrigger í”ŒëŸ¬ê·¸ì¸ -->
  <script src="https://cdn.jsdelivr.net/npm/gsap@3.12.5/dist/gsap.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/gsap@3.12.5/dist/ScrollTrigger.min.js"></script>
  <script>
    // 0) í”ŒëŸ¬ê·¸ì¸ ë“±ë¡: ScrollTrigger ê¸°ëŠ¥ì„ gsapì— ì—°ê²°
    gsap.registerPlugin(ScrollTrigger);

    // 1) íˆì–´ë¡œ íƒ€ì´í‹€ ì‚´ì§ íŒ¨ëŸ´ë™ìŠ¤ íš¨ê³¼
    gsap.to(".title", {
      y: -80,            // ìŠ¤í¬ë¡¤í• ìˆ˜ë¡ ìœ„ë¡œ 80px ì´ë™
      opacity: 0.4,      // ì‚´ì§ íë¦¬ê²Œ
      // ScrollTrigger ì˜µì…˜ ê°ì²´
      scrollTrigger: {
        trigger: ".hero",        // ì´ ìš”ì†Œê°€ ê¸°ì¤€ì´ ëœë‹¤(ì•µì»¤)
        start: "top top",        // íŠ¸ë¦¬ê±°ì˜ topì´ ë·°í¬íŠ¸ì˜ topì— ë‹¿ì„ ë•Œ ì‹œì‘
        end:   "bottom top",     // íŠ¸ë¦¬ê±°ì˜ bottomì´ ë·°í¬íŠ¸ì˜ topì— ë‹¿ì„ ë•Œ ë
        scrub: true              // ìŠ¤í¬ë¡¤ ì–‘ì— ë¹„ë¡€í•´ ì• ë‹ˆë©”ì´ì…˜ ì¬ìƒ(ìŠ¤í¬ëŸ½)
        // scrub: 1 ì²˜ëŸ¼ ìˆ«ìë¥¼ ì£¼ë©´ ìŠ¤ë¬´ë”©(ë³´ê°„) ì‹œê°„(ì´ˆ)
        // markers: true          // ë””ë²„ê·¸ìš© ë§ˆì»¤(ì‹œì‘/ë ì„ ) í‘œì‹œ
      }
    });

    // 2) ì¹´ë“œ ì„¹ì…˜: ë·°í¬íŠ¸ì— ë“¤ì–´ì˜¬ ë•Œ ìˆœì°¨(ìŠ¤í„°ê±°)ë¡œ ë“±ì¥
    gsap.to(".card", {
      opacity: 1, y: 0,          // ìµœì¢… ìƒíƒœ(ë³´ì´ê¸° + ì œìë¦¬)
      duration: 0.6, ease: "power2.out",
      stagger: 0.12,             // ìš”ì†Œë§ˆë‹¤ 0.12ì´ˆ ê°„ê²©ìœ¼ë¡œ ì‹œì‘(ìŠ¤íƒœê±°)
      scrollTrigger: {
        trigger: ".cards",       // .cardsê°€ ê¸°ì¤€
        start: "top 80%",         // íŠ¸ë¦¬ê±° topì´ ë·°í¬íŠ¸ ë†’ì´ì˜ 80% ì§€ì ì— ë‹¿ìœ¼ë©´ ì‹œì‘
        // => ì¦‰ í™”ë©´ ì•„ë˜ìª½ ê·¼ì²˜ì—ì„œ ë¶€ë“œëŸ½ê²Œ ë“±ì¥
        // endë¥¼ ì•ˆ ì£¼ë©´ ê¸°ë³¸ì ìœ¼ë¡œ "start ì‹œì ì— íŠ¸ìœˆ ì‹œì‘"ë§Œ ì‹ ê²½ì“°ê³  ëë‚¨
        // once íš¨ê³¼ë¥¼ ì›í•˜ë©´ onEnter ì½œë°±ì—ì„œ kill() í•˜ê±°ë‚˜ toggleActions í™œìš© ê°€ëŠ¥
        // toggleActions ì˜ˆ: "play none none none"
        toggleActions: "play reverse play reverse"
        // onEnter | onLeave | onEnterBack | onLeaveBack
      }
    });

    // 3) í•€(ê³ ì •) + ìŠ¤í¬ëŸ½ ì• ë‹ˆë©”ì´ì…˜
    gsap.to(".panel", {
      scale: 1.1,            // ê³ ì •ë˜ì–´ ìˆëŠ” ë™ì•ˆ ì‚´ì§ í™•ëŒ€
      duration: 1,           // scrub:trueë©´ durationì€ ìƒëŒ€ì  ì˜ë¯¸(ëª¨ì…˜ ê³¡ì„  ì •ë„)
      scrollTrigger: {
        trigger: ".panel",   // ì´ ì„¹ì…˜ì´ ê¸°ì¤€
        start: "top top",    // íŒ¨ë„ì˜ topì´ ë·°í¬íŠ¸ topì— ë‹¿ëŠ” ìˆœê°„ë¶€í„°
        end: "+=80%",        // ì‹œì‘ ì§€ì ì—ì„œ **ìŠ¤í¬ë¡¤ 80% ë” ì§„í–‰ë  ë•Œê¹Œì§€**(ìƒëŒ€ ê¸¸ì´)
                              // "+=ê°’" í˜•ì‹ì€ "í˜„ì¬ ìœ„ì¹˜ì—ì„œ ì¶”ê°€ë¡œ ì–¼ë§ˆë‚˜"ì˜ ì˜ë¯¸
        scrub: true,         // ìŠ¤í¬ë¡¤ê³¼ ëª¨ì…˜ì„ ë™ê¸°í™”(ì•ë’¤ ìŠ¤í¬ëŸ½ ê°€ëŠ¥)
        pin: true            // ì´ êµ¬ê°„ ë™ì•ˆ .panelì„ í™”ë©´ì— 'ê³ ì •'ì‹œí‚´(ìŠ¤í‹°í‚¤ ëŠë‚Œ)
        // pinSpacing: true   // ê¸°ë³¸ true: ê³ ì • ë™ì•ˆ ë ˆì´ì•„ì›ƒ ë°€ë¦¼ ë³´ì •ìš© ê³µê°„ì„ ìë™ ì¶”ê°€
        // markers: true
      }
    });

    // ---------------------------------------------------------
    // ğŸ’¡ start/end êµ¬ë¬¸ ìš”ì•½
    //   - "top top"    : íŠ¸ë¦¬ê±°ì˜ topê³¼ ë·°í¬íŠ¸ì˜ topì´ ë§Œë‚  ë•Œ
    //   - "top 80%"    : íŠ¸ë¦¬ê±°ì˜ topì´ ë·°í¬íŠ¸ì˜ ì„¸ë¡œ 80% ìœ„ì¹˜ì™€ ë§Œë‚  ë•Œ
    //   - "center center", "bottom top" ë“± 9ê°€ì§€ ì¡°í•© ê°€ëŠ¥
    //   - "+=80%"      : í˜„ì¬ ê³„ì‚°ëœ startë¡œë¶€í„° ì¶”ê°€ ìŠ¤í¬ë¡¤ ê±°ë¦¬(ìƒëŒ€ê°’)
    //
    // ğŸ’¡ ìì£¼ ê²ªëŠ” ìƒí™© íŒ
    //   - ìƒë‹¨ì— ê³ ì • í—¤ë”ê°€ ìˆì„ ë•Œ: startë¥¼ "top+=í—¤ë”ë†’ì´ top"ì²˜ëŸ¼ ë³´ì •
    //       ì˜ˆ) start: "top+=64 top"
    //   - ì´ë¯¸ì§€ ë¡œë”© ë“± ë ˆì´ì•„ì›ƒì´ ë°”ë€Œë©´: ScrollTrigger.refresh()ë¡œ ì¬ê³„ì‚°
    //   - ë””ë²„ê¹…: markers:trueë¡œ ì‹œì‘/ë ìœ„ì¹˜ë¥¼ ëˆˆìœ¼ë¡œ í™•ì¸
    // ---------------------------------------------------------
  </script>
</body>
</html>
