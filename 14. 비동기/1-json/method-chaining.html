<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <script>
      // 🎯 이 예제의 목적: 메서드 체이닝(Method Chaining) 패턴 배우기
      // 메서드 체이닝은 여러 메서드를 연속해서 호출할 수 있게 하는 프로그래밍 기법입니다
      // 실제로는 jQuery, 배열 메서드 등에서 자주 사용되는 패턴입니다
      // 예: $("div").addClass("active").show().fadeIn()

      // 1. User 클래스 정의하기
      // 클래스는 객체를 만들기 위한 설계도라고 생각하면 됩니다
      class User {
        // 2. say 메서드 정의
        // 메서드는 클래스 안에 있는 함수입니다
        say(text) {
          // 3. 전달받은 텍스트를 콘솔에 출력하기
          console.log(text);
          // 4. this를 반환하기 (핵심!)
          // this는 현재 객체(user)를 가리킵니다
          // return this를 하면 메서드 체이닝이 가능해집니다
          return this;
        }

        // 5. hello 메서드 정의
        hello(text) {
          // 6. 전달받은 텍스트를 콘솔에 출력하기
          console.log(text);
          // 7. this를 반환하기 (핵심!)
          // 이렇게 하면 hello 메서드 호출 후에도 다른 메서드를 호출할 수 있습니다
          return this;
        }
      }

      // 8. User 클래스로 새로운 객체 만들기
      // new User()는 User 클래스를 사용해서 새로운 객체를 만드는 명령어입니다
      const user = new User();

      // 9. 메서드 체이닝 사용하기
      // user.say("안녕!") → user 객체 반환
      // .hello("호호호") → user 객체 반환
      // .say("세이 호") → user 객체 반환
      // 결과: "안녕!", "호호호", "세이 호" 순서대로 출력
      user.say("안녕!").hello("호호호").say("세이 호");

      // 📚 메서드 체이닝이 작동하는 이유:
      // 1. 각 메서드가 return this를 하기 때문입니다
      // 2. this는 현재 객체(user)를 가리킵니다
      // 3. 따라서 메서드 호출 후에도 같은 객체가 반환됩니다
      // 4. 그래서 연속해서 다른 메서드를 호출할 수 있습니다

      // 🔍 단계별 실행 과정:
      // 1단계: user.say("안녕!") → "안녕!" 출력 → user 객체 반환
      // 2단계: .hello("호호호") → "호호호" 출력 → user 객체 반환
      // 3단계: .say("세이 호") → "세이 호" 출력 → user 객체 반환

      // 💡 return this가 없다면:
      // user.say("안녕!") → undefined 반환
      // .hello("호호호") → 에러! (undefined에는 hello 메서드가 없음)

      // 🎯 실제 활용 예시:
      // - jQuery: $("div").addClass("active").show().fadeIn()
      // - 배열: [1,2,3].filter(x => x > 1).map(x => x * 2).reduce((a,b) => a + b)
      // - 문자열: "hello".toUpperCase().trim().split("")
    </script>
  </body>
</html>
